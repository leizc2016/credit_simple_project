<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=2cc0f5699b8586943eb2f4b05b10f4d9"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/library/Heatmap/2.0/src/Heatmap_min.js"></script>
    <title>热力图功能示例</title>
    <style type="text/css">
		ul,li{list-style: none;margin:0;padding:0;float:left;}
		html{height:200%}
		body{height:200%;margin:0px;padding:0px;font-family:"微软雅黑";}
		#container{height:600px;width:200%;}
		#r-result{width:200%;}
    </style>	
</head>
<body onload="openHeatmap();">
	<div id="container"></div>
<!-- 	<div id="r-result">
		<input type="button"  onclick="openHeatmap();" value="显示热力图"/><input type="button"  onclick="closeHeatmap();" value="关闭热力图"/>
	</div> -->
</body>
</html>
<script type="text/javascript">
    var map = new BMap.Map("container");          // 创建地图实例

    var point = new BMap.Point(121.521,31.225);
    map.centerAndZoom(point, 15);             // 初始化地图，设置中心点坐标和地图级别
    map.enableScrollWheelZoom(); // 允许滚轮缩放
  
    var points =[
{"lng":121.501924,"lat":31.209257,"count":20},
{"lng":121.501276,"lat":31.214517,"count":20},
{"lng":121.490209,"lat":31.217024,"count":20},

{"lng":121.442904,"lat":31.247262,"count":20},
{"lng":121.498614,"lat":31.213283,"count":20},
{"lng":121.489622,"lat":31.216933,"count":20},
{"lng":121.490209,"lat":31.217024,"count":20},
{"lng":121.504421,"lat":31.215297,"count":20},
{"lng":121.504704,"lat":31.21695,"count":20},
{"lng":121.49519,"lat":31.217584,"count":20},
{"lng":121.509511,"lat":31.212426,"count":20},
{"lng":121.491773,"lat":31.212171,"count":20},
{"lng":121.495305,"lat":31.213528,"count":20},
{"lng":121.492135,"lat":31.216998,"count":20},
{"lng":121.498809,"lat":31.208788,"count":20},
{"lng":121.492432,"lat":31.220124,"count":20},
{"lng":121.494457,"lat":31.217999,"count":20},
{"lng":121.498809,"lat":31.208788,"count":20},
{"lng":121.492432,"lat":31.220124,"count":20},
{"lng":121.496743,"lat":31.300218,"count":20},
{"lng":121.498809,"lat":31.208788,"count":20},
{"lng":121.498809,"lat":31.208788,"count":20},
{"lng":121.498809,"lat":31.208788,"count":20},
{"lng":121.502297,"lat":31.211076,"count":20},
{"lng":121.505454,"lat":31.206506,"count":20},
{"lng":121.476173,"lat":31.211215,"count":20},
{"lng":121.489622,"lat":31.216933,"count":20},
{"lng":121.491885,"lat":31.21359,"count":20},
{"lng":121.489622,"lat":31.216933,"count":20},
{"lng":121.498809,"lat":31.208788,"count":20},
{"lng":121.487148,"lat":31.240013,"count":20},

{"lng":121.524296,"lat":31.235993,"count":20},
{"lng":121.498809,"lat":31.208788,"count":20},
{"lng":121.498809,"lat":31.208788,"count":20},
{"lng":121.502549,"lat":31.213496,"count":20},
{"lng":121.502549,"lat":31.213496,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.481282,"lat":31.233069,"count":20},
{"lng":121.496623,"lat":31.217747,"count":20},
{"lng":121.504704,"lat":31.21695,"count":20},
{"lng":121.504704,"lat":31.21695,"count":20},
{"lng":121.502549,"lat":31.213496,"count":20},
{"lng":121.502549,"lat":31.213496,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.488821,"lat":31.216834,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.49134,"lat":31.210744,"count":20},
{"lng":121.490209,"lat":31.217024,"count":20},
{"lng":121.490386,"lat":31.217049,"count":20},
{"lng":121.490209,"lat":31.217024,"count":20},
{"lng":121.49519,"lat":31.217584,"count":20},
{"lng":121.49519,"lat":31.217584,"count":20},
{"lng":121.499922,"lat":31.209269,"count":20},
{"lng":121.502549,"lat":31.213496,"count":20},
{"lng":121.491828,"lat":31.212582,"count":20},
{"lng":121.492062,"lat":31.209807,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.501906,"lat":31.218274,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.490209,"lat":31.217024,"count":20},
{"lng":121.491909,"lat":31.218391,"count":20},
{"lng":121.483347,"lat":31.245601,"count":20},
{"lng":121.495262,"lat":31.231288,"count":20},
{"lng":121.487578,"lat":31.231579,"count":20},
{"lng":121.487899,"lat":31.249162,"count":20},
{"lng":121.49579,"lat":31.296987,"count":20},
{"lng":121.472641,"lat":31.237328,"count":20},
{"lng":121.500872,"lat":31.218625,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.500137,"lat":31.229491,"count":20},
{"lng":121.500137,"lat":31.229491,"count":20},
{"lng":121.489289,"lat":31.264405,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.494217,"lat":31.229889,"count":20},
{"lng":121.500137,"lat":31.229491,"count":20},
{"lng":121.454667,"lat":30.980855,"count":20},
{"lng":121.451876,"lat":31.185701,"count":20},
{"lng":121.488925,"lat":31.232045,"count":20},
{"lng":121.495864,"lat":31.218142,"count":20},
{"lng":121.499027,"lat":31.233649,"count":20},
{"lng":121.498471,"lat":31.231118,"count":20},
{"lng":121.398181,"lat":31.129244,"count":20},
{"lng":121.494579,"lat":31.233215,"count":20},
{"lng":121.487578,"lat":31.231579,"count":20},
{"lng":121.499044,"lat":31.226618,"count":20},
{"lng":121.499546,"lat":31.231215,"count":20},
{"lng":121.489409,"lat":31.22872,"count":20},
{"lng":121.49684,"lat":31.228047,"count":20},

{"lng":121.496409,"lat":31.233787,"count":20},
{"lng":121.490111,"lat":31.231385,"count":20},
{"lng":121.496099,"lat":31.233484,"count":20},
{"lng":121.490648,"lat":31.22529,"count":20},
{"lng":121.490597,"lat":31.225075,"count":20},
{"lng":121.561988,"lat":31.11284,"count":20},
{"lng":121.489366,"lat":31.228668,"count":20},
{"lng":121.443663,"lat":31.203101,"count":20},
{"lng":121.487578,"lat":31.231579,"count":20},
{"lng":121.49684,"lat":31.228047,"count":20},
{"lng":121.491279,"lat":31.22065,"count":20},
{"lng":121.491169,"lat":31.220951,"count":20},
{"lng":121.455967,"lat":31.237645,"count":20},
{"lng":121.367075,"lat":31.224894,"count":20},
{"lng":121.480983,"lat":31.197503,"count":20},
{"lng":121.492783,"lat":31.22303,"count":20},
{"lng":121.491533,"lat":31.221836,"count":20},
{"lng":121.491279,"lat":31.22065,"count":20},
{"lng":121.492244,"lat":31.224007,"count":20},
{"lng":121.491533,"lat":31.221836,"count":20},
{"lng":121.49746,"lat":31.226131,"count":20},
{"lng":121.429197,"lat":31.249463,"count":20},
{"lng":121.469629,"lat":31.224462,"count":20},
{"lng":121.476978,"lat":31.224815,"count":20},
{"lng":121.476978,"lat":31.224815,"count":20},
{"lng":121.476978,"lat":31.224815,"count":20},
{"lng":121.476978,"lat":31.224815,"count":20},
{"lng":121.475265,"lat":31.225054,"count":20},
{"lng":121.469743,"lat":31.22434,"count":20},
{"lng":121.496072,"lat":31.227203,"count":20},
{"lng":121.494184,"lat":31.238275,"count":20},
{"lng":121.473185,"lat":31.224247,"count":20},
{"lng":121.467707,"lat":31.223398,"count":20},
{"lng":121.473185,"lat":31.224247,"count":20},
{"lng":121.477777,"lat":31.216769,"count":20},
{"lng":121.477777,"lat":31.216769,"count":20},
{"lng":121.498614,"lat":31.267746,"count":20},
{"lng":121.498614,"lat":31.267746,"count":20},
{"lng":121.402595,"lat":31.21959,"count":20},
{"lng":121.444134,"lat":31.22554,"count":20},
{"lng":121.462374,"lat":31.225998,"count":20},
{"lng":121.477777,"lat":31.216769,"count":20},
{"lng":121.492127,"lat":31.205115,"count":20},
{"lng":121.49686,"lat":31.238336,"count":20},
{"lng":121.477777,"lat":31.216769,"count":20},
{"lng":121.478548,"lat":31.2017,"count":20},
{"lng":121.359811,"lat":31.248652,"count":20},
{"lng":121.478548,"lat":31.2017,"count":20},
{"lng":121.469517,"lat":31.216674,"count":20},
{"lng":121.491533,"lat":31.221836,"count":20},
{"lng":121.539118,"lat":31.275608,"count":20},
{"lng":121.491533,"lat":31.221836,"count":20},
{"lng":121.456765,"lat":31.204762,"count":20},
{"lng":121.47353,"lat":31.22296,"count":20},
{"lng":121.471772,"lat":31.222923,"count":20},
{"lng":121.48926,"lat":31.224572,"count":20},
{"lng":121.479894,"lat":31.229038,"count":20},
{"lng":121.399229,"lat":31.203225,"count":20},
{"lng":121.470615,"lat":31.220534,"count":20},
{"lng":121.515301,"lat":31.245487,"count":20},
{"lng":121.467324,"lat":31.226662,"count":20},
{"lng":121.48926,"lat":31.224572,"count":20},

{"lng":121.484242,"lat":31.23063,"count":20},
{"lng":121.479213,"lat":31.227079,"count":20},
{"lng":121.479213,"lat":31.227079,"count":20},
{"lng":121.484242,"lat":31.23063,"count":20},
{"lng":121.56043,"lat":31.233482,"count":20},
{"lng":121.484242,"lat":31.23063,"count":20},
{"lng":121.552979,"lat":31.18643,"count":20},
{"lng":121.507641,"lat":31.241551,"count":20},
{"lng":121.382854,"lat":31.182218,"count":20},
{"lng":121.473792,"lat":31.22344,"count":20},
{"lng":121.382854,"lat":31.182218,"count":20},
{"lng":121.468777,"lat":31.221846,"count":20},
{"lng":121.455001,"lat":31.204847,"count":20},
{"lng":121.483346,"lat":31.220786,"count":20},
{"lng":121.476202,"lat":31.209446,"count":20},
{"lng":121.496072,"lat":31.227203,"count":20},
{"lng":121.507641,"lat":31.241551,"count":20},
{"lng":121.468777,"lat":31.221846,"count":20},
{"lng":121.468777,"lat":31.221846,"count":20},
{"lng":121.464161,"lat":31.227304,"count":20},
{"lng":121.473561,"lat":31.22345,"count":20},
{"lng":121.462445,"lat":31.192724,"count":20},
{"lng":121.421735,"lat":31.176234,"count":20},
{"lng":121.480955,"lat":31.22052,"count":20},
{"lng":121.495123,"lat":31.242197,"count":20},
{"lng":121.507568,"lat":31.216582,"count":20},
{"lng":121.471004,"lat":31.222345,"count":20},
{"lng":121.471048,"lat":31.22458,"count":20},
{"lng":121.468777,"lat":31.221846,"count":20},
{"lng":121.524459,"lat":31.319323,"count":20},
{"lng":121.458908,"lat":31.253202,"count":20},
{"lng":121.470517,"lat":31.224261,"count":20},
{"lng":121.470486,"lat":31.223246,"count":20},
{"lng":121.474239,"lat":31.227503,"count":20},
{"lng":121.475173,"lat":31.220402,"count":20},
{"lng":121.476172,"lat":31.2211,"count":20},
{"lng":121.479585,"lat":31.216934,"count":20},
{"lng":121.486586,"lat":31.230862,"count":20},
{"lng":121.480178,"lat":31.228619,"count":20},
{"lng":121.479485,"lat":31.216796,"count":20},
{"lng":121.486586,"lat":31.230862,"count":20},
{"lng":121.47924,"lat":31.228171,"count":20},
{"lng":121.465597,"lat":31.211464,"count":20},
{"lng":121.488081,"lat":31.27931,"count":20},
{"lng":121.466582,"lat":31.228935,"count":20},
{"lng":121.477468,"lat":31.219845,"count":20},
{"lng":121.412188,"lat":31.191425,"count":20},
{"lng":121.480808,"lat":31.224998,"count":20},
{"lng":121.478197,"lat":31.221318,"count":20},
{"lng":121.484242,"lat":31.23063,"count":20},
{"lng":121.480178,"lat":31.228619,"count":20},
{"lng":121.406657,"lat":31.20414,"count":20},
{"lng":121.479894,"lat":31.229038,"count":20},
{"lng":121.49009,"lat":31.239788,"count":20},
{"lng":121.484242,"lat":31.23063,"count":20},
{"lng":121.471048,"lat":31.22458,"count":20},
{"lng":121.470276,"lat":31.22443,"count":20},
{"lng":121.472075,"lat":31.226108,"count":20},
{"lng":121.480808,"lat":31.224998,"count":20},
{"lng":121.496072,"lat":31.227203,"count":20},
{"lng":121.481763,"lat":31.228866,"count":20},
{"lng":121.47297,"lat":31.227351,"count":20},
{"lng":121.435167,"lat":31.181258,"count":20},
{"lng":121.417975,"lat":31.209427,"count":20},
{"lng":120.132172,"lat":30.278949,"count":20},
{"lng":121.475067,"lat":31.221171,"count":20},
{"lng":121.412188,"lat":31.191425,"count":20},

{"lng":121.47924,"lat":31.228171,"count":20},
{"lng":121.467837,"lat":31.224217,"count":20},
{"lng":121.49686,"lat":31.238336,"count":20},
{"lng":121.478578,"lat":31.227915,"count":20},
{"lng":121.464523,"lat":31.227568,"count":20},
{"lng":121.480667,"lat":31.228782,"count":20},
{"lng":120.46834,"lat":27.829231,"count":20},
{"lng":121.481479,"lat":31.223521,"count":20},
{"lng":121.485458,"lat":31.231126,"count":20},
{"lng":121.496072,"lat":31.227203,"count":20},
{"lng":121.487228,"lat":31.229962,"count":20},
{"lng":121.481442,"lat":31.229632,"count":20},
{"lng":121.476656,"lat":31.223721,"count":20},
{"lng":121.473696,"lat":31.238278,"count":20},
{"lng":121.487067,"lat":31.229594,"count":20},
{"lng":121.443863,"lat":31.225455,"count":20},
{"lng":121.530009,"lat":31.233029,"count":20},
{"lng":121.484517,"lat":31.240157,"count":20},
{"lng":121.480808,"lat":31.224998,"count":20},
{"lng":121.476811,"lat":31.238359,"count":20},
{"lng":121.487148,"lat":31.240013,"count":20},
{"lng":121.49686,"lat":31.238336,"count":20},
{"lng":121.49869,"lat":31.238777,"count":20},
{"lng":121.483161,"lat":31.233352,"count":20},
{"lng":121.49686,"lat":31.238336,"count":20},
{"lng":121.494577,"lat":31.237302,"count":20},
{"lng":121.494577,"lat":31.237302,"count":20},
{"lng":121.494354,"lat":31.237743,"count":20},
{"lng":121.499016,"lat":31.237679,"count":20},
{"lng":121.4876,"lat":31.232806,"count":20},
{"lng":121.490938,"lat":31.24031,"count":20},
{"lng":121.490938,"lat":31.24031,"count":20},
{"lng":121.488022,"lat":31.232119,"count":20},
{"lng":121.489991,"lat":31.240213,"count":20},
{"lng":121.500138,"lat":31.236911,"count":20},
{"lng":121.493161,"lat":31.245276,"count":20},
{"lng":121.494025,"lat":31.239914,"count":20},
{"lng":121.488245,"lat":31.232927,"count":20},
{"lng":121.496315,"lat":31.238666,"count":20},
{"lng":121.498445,"lat":31.238057,"count":20},
{"lng":121.498445,"lat":31.238057,"count":20},
{"lng":121.492715,"lat":31.248641,"count":20},

{"lng":121.493549,"lat":31.246114,"count":20},
{"lng":121.500639,"lat":31.236398,"count":20},
{"lng":121.493893,"lat":31.23531,"count":20},
{"lng":121.50947,"lat":31.226634,"count":20},
{"lng":121.493893,"lat":31.23531,"count":20},
{"lng":121.497142,"lat":31.240106,"count":20},
{"lng":121.49714,"lat":31.2278,"count":20},
{"lng":121.495747,"lat":31.237351,"count":20},
{"lng":121.490863,"lat":31.236327,"count":20},
{"lng":121.4894,"lat":31.237846,"count":20},
{"lng":121.495747,"lat":31.237351,"count":20},
{"lng":121.489451,"lat":31.242808,"count":20},
{"lng":121.493893,"lat":31.23531,"count":20},
{"lng":121.493251,"lat":31.236166,"count":20},
{"lng":121.493251,"lat":31.236166,"count":20},
{"lng":121.495818,"lat":31.237117,"count":20},
{"lng":121.491319,"lat":31.236688,"count":20},
{"lng":121.491494,"lat":31.246449,"count":20},
{"lng":121.492334,"lat":31.248906,"count":20},
{"lng":121.496468,"lat":31.24574,"count":20},
{"lng":121.491319,"lat":31.236688,"count":20},
{"lng":121.479749,"lat":31.199507,"count":20},
{"lng":121.496322,"lat":31.245539,"count":20},
{"lng":121.492304,"lat":31.248187,"count":20},
{"lng":121.489658,"lat":31.241754,"count":20},
{"lng":121.48805,"lat":31.245508,"count":20},
{"lng":121.491113,"lat":31.241623,"count":20},
{"lng":121.491452,"lat":31.246538,"count":20},
{"lng":121.49051,"lat":31.243902,"count":20},
{"lng":121.490792,"lat":31.236709,"count":20},
{"lng":121.489818,"lat":31.241372,"count":20},
{"lng":121.491203,"lat":31.242572,"count":20},
{"lng":121.423149,"lat":31.098067,"count":20},
{"lng":121.493161,"lat":31.245276,"count":20},
{"lng":121.479749,"lat":31.199507,"count":20},
{"lng":121.479749,"lat":31.199507,"count":20},
{"lng":121.482452,"lat":31.205718,"count":20},
{"lng":121.484517,"lat":31.240157,"count":20},
{"lng":121.484517,"lat":31.240157,"count":20},
{"lng":121.49315,"lat":31.245089,"count":20},
{"lng":121.493161,"lat":31.245276,"count":20},
{"lng":121.483875,"lat":31.238584,"count":20},
{"lng":121.492553,"lat":31.245841,"count":20},
{"lng":121.488554,"lat":31.235231,"count":20},
{"lng":121.483292,"lat":31.238959,"count":20},
{"lng":121.483875,"lat":31.238584,"count":20},
{"lng":121.445312,"lat":31.201672,"count":20},
{"lng":121.47055,"lat":31.269952,"count":20},
{"lng":121.49315,"lat":31.245089,"count":20},
{"lng":121.462649,"lat":31.201516,"count":20},
{"lng":121.556101,"lat":31.254755,"count":20},
{"lng":121.493202,"lat":31.243061,"count":20},
{"lng":121.478425,"lat":31.205495,"count":20},
{"lng":121.483875,"lat":31.238584,"count":20},
{"lng":121.489054,"lat":31.241526,"count":20},
{"lng":121.489054,"lat":31.241526,"count":20},
{"lng":121.492107,"lat":31.23857,"count":20},
{"lng":121.492107,"lat":31.23857,"count":20},
{"lng":121.483231,"lat":31.23807,"count":20},

{"lng":121.482761,"lat":31.207103,"count":20},
{"lng":121.487391,"lat":31.206454,"count":20},
{"lng":121.494657,"lat":31.245981,"count":20},
{"lng":121.482761,"lat":31.207103,"count":20},
{"lng":121.478548,"lat":31.2017,"count":20},
{"lng":121.484778,"lat":31.235118,"count":20},
{"lng":121.476248,"lat":31.23784,"count":20},
{"lng":121.485853,"lat":31.236284,"count":20},
{"lng":121.476811,"lat":31.238359,"count":20},
{"lng":121.510249,"lat":31.226016,"count":20},
{"lng":121.530167,"lat":31.283544,"count":20},
{"lng":121.476318,"lat":31.237889,"count":20},
{"lng":121.482709,"lat":31.239699,"count":20},
{"lng":121.477833,"lat":31.207903,"count":20},
{"lng":121.494581,"lat":31.248089,"count":20},
{"lng":121.498611,"lat":31.223671,"count":20},
{"lng":121.473696,"lat":31.238278,"count":20},
{"lng":121.487287,"lat":31.21386,"count":20},
{"lng":121.483231,"lat":31.23807,"count":20},
{"lng":121.489658,"lat":31.241754,"count":20},
{"lng":121.464814,"lat":31.203688,"count":20},
{"lng":121.452567,"lat":31.241566,"count":20},
{"lng":121.49051,"lat":31.243902,"count":20},
{"lng":121.537447,"lat":31.229868,"count":20},
{"lng":121.490372,"lat":31.243119,"count":20},
{"lng":121.490372,"lat":31.243119,"count":20},
{"lng":121.49869,"lat":31.238777,"count":20},
{"lng":121.524415,"lat":31.233128,"count":20},
{"lng":121.497101,"lat":31.238824,"count":20},
{"lng":121.490938,"lat":31.24031,"count":20},
{"lng":121.472256,"lat":31.225891,"count":20},
{"lng":121.491203,"lat":31.242572,"count":20},
{"lng":121.511308,"lat":31.245501,"count":20},
{"lng":121.479894,"lat":31.229038,"count":20},
{"lng":121.491161,"lat":31.246522,"count":20},
{"lng":121.588897,"lat":31.199369,"count":20},
{"lng":121.511308,"lat":31.245501,"count":20},
{"lng":121.491161,"lat":31.246522,"count":20},
{"lng":121.491161,"lat":31.246522,"count":20},
{"lng":121.492127,"lat":31.205115,"count":20},
{"lng":121.468304,"lat":31.178993,"count":20},
{"lng":121.472256,"lat":31.225891,"count":20},
{"lng":121.507246,"lat":31.225508,"count":20},
{"lng":121.504748,"lat":31.222031,"count":20},
{"lng":121.476724,"lat":31.212311,"count":20},
{"lng":121.491161,"lat":31.246522,"count":20},
{"lng":121.505102,"lat":31.278393,"count":20},
{"lng":121.514712,"lat":31.246442,"count":20},
{"lng":121.491161,"lat":31.246522,"count":20},
{"lng":121.4768,"lat":31.211801,"count":20},
{"lng":121.45032,"lat":31.208447,"count":20},
{"lng":121.45019,"lat":31.328528,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.498445,"lat":31.238057,"count":20},
{"lng":121.462542,"lat":31.222266,"count":20},
{"lng":121.517246,"lat":31.242564,"count":20},
{"lng":121.462542,"lat":31.222266,"count":20},
{"lng":121.511908,"lat":31.227304,"count":20},
{"lng":121.462542,"lat":31.222266,"count":20},
{"lng":121.462542,"lat":31.222266,"count":20},
{"lng":121.502335,"lat":31.220068,"count":20},
{"lng":121.49329,"lat":31.214472,"count":20},
{"lng":121.49329,"lat":31.214472,"count":20},
{"lng":121.506928,"lat":31.230752,"count":20},
{"lng":121.477012,"lat":31.235255,"count":20},
{"lng":121.516644,"lat":31.194853,"count":20},
{"lng":121.484866,"lat":31.212328,"count":20},

{"lng":121.542534,"lat":31.231314,"count":20},
{"lng":121.524415,"lat":31.233128,"count":20},
{"lng":121.490372,"lat":31.243119,"count":20},
{"lng":121.540606,"lat":31.247672,"count":20},
{"lng":121.4768,"lat":31.211801,"count":20},
{"lng":121.472407,"lat":31.246253,"count":20},
{"lng":121.474135,"lat":31.213017,"count":20},
{"lng":121.509598,"lat":31.226552,"count":20},
{"lng":121.438944,"lat":31.255599,"count":20},
{"lng":121.490372,"lat":31.243119,"count":20},
{"lng":121.513339,"lat":31.217821,"count":20},
{"lng":121.513244,"lat":31.224741,"count":20},
{"lng":121.509598,"lat":31.226552,"count":20},
{"lng":121.511509,"lat":31.214239,"count":20},
{"lng":121.39985,"lat":31.227425,"count":20},
{"lng":121.504748,"lat":31.222031,"count":20},
{"lng":121.504642,"lat":31.230542,"count":20},
{"lng":121.471311,"lat":31.212109,"count":20},
{"lng":121.504642,"lat":31.230542,"count":20},
{"lng":121.530677,"lat":31.232464,"count":20},
{"lng":121.449065,"lat":31.228765,"count":20},
{"lng":121.488849,"lat":31.208832,"count":20},
{"lng":121.489658,"lat":31.241754,"count":20},
{"lng":121.468777,"lat":31.221846,"count":20},
{"lng":116.3783,"lat":39.960051,"count":20},
{"lng":121.65228,"lat":31.195007,"count":20},
{"lng":121.511649,"lat":31.21442,"count":20},
{"lng":121.476811,"lat":31.238359,"count":20},
{"lng":121.49074,"lat":31.217533,"count":20},
{"lng":121.527434,"lat":31.305026,"count":20},
{"lng":121.414942,"lat":31.213715,"count":20},
{"lng":121.398443,"lat":31.263743,"count":20},
{"lng":121.530394,"lat":31.32002,"count":20},
{"lng":121.497703,"lat":31.271455,"count":20},
{"lng":121.493893,"lat":31.23531,"count":20},
{"lng":121.476811,"lat":31.238359,"count":20},
{"lng":121.495818,"lat":31.237117,"count":20},
{"lng":121.51245,"lat":31.216089,"count":20},
{"lng":121.498545,"lat":31.213821,"count":20},
{"lng":121.453736,"lat":31.23737,"count":20},
{"lng":121.516051,"lat":31.242114,"count":20},
{"lng":121.468777,"lat":31.221846,"count":20},
{"lng":121.352694,"lat":31.146112,"count":20},
{"lng":121.468777,"lat":31.221846,"count":20},
{"lng":121.468777,"lat":31.221846,"count":20},
{"lng":121.468777,"lat":31.221846,"count":20},
{"lng":121.468777,"lat":31.221846,"count":20},
{"lng":121.468777,"lat":31.221846,"count":20},
{"lng":121.468777,"lat":31.221846,"count":20},
{"lng":121.491494,"lat":31.246449,"count":20},
{"lng":121.468777,"lat":31.221846,"count":20},
{"lng":121.468777,"lat":31.221846,"count":20},
{"lng":121.468777,"lat":31.221846,"count":20},
{"lng":121.482481,"lat":31.229883,"count":20},
{"lng":121.468777,"lat":31.221846,"count":20},
{"lng":121.543436,"lat":31.216204,"count":20},
{"lng":121.61695,"lat":31.212694,"count":20},
{"lng":121.514379,"lat":31.244551,"count":20},
{"lng":121.536904,"lat":31.246762,"count":20},
{"lng":121.496114,"lat":31.221916,"count":20},
{"lng":121.475594,"lat":31.214169,"count":20},
{"lng":121.226791,"lat":31.021245,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.47664,"lat":31.211377,"count":20},
{"lng":121.476137,"lat":31.213981,"count":20},
{"lng":121.491203,"lat":31.242572,"count":20},
{"lng":121.443805,"lat":31.198286,"count":20},
{"lng":121.514644,"lat":31.221106,"count":20},
{"lng":121.506746,"lat":31.21798,"count":20},
{"lng":121.513339,"lat":31.217821,"count":20},
{"lng":121.498445,"lat":31.238057,"count":20},
{"lng":121.498445,"lat":31.238057,"count":20},
{"lng":121.507246,"lat":31.225508,"count":20},
{"lng":121.443043,"lat":31.19395,"count":20},
{"lng":121.403344,"lat":31.188534,"count":20},
{"lng":121.446172,"lat":31.235863,"count":20},
{"lng":121.504748,"lat":31.222031,"count":20},
{"lng":121.494184,"lat":31.238275,"count":20},
{"lng":121.485708,"lat":31.210783,"count":20},
{"lng":121.484242,"lat":31.23063,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.490372,"lat":31.243119,"count":20},
{"lng":121.498445,"lat":31.238057,"count":20},
{"lng":121.432523,"lat":31.188293,"count":20},
{"lng":121.488981,"lat":31.232086,"count":20},
{"lng":121.378835,"lat":31.23998,"count":20},
{"lng":121.40068,"lat":31.265201,"count":20},
{"lng":121.556375,"lat":31.226998,"count":20},
{"lng":121.507606,"lat":31.229728,"count":20},
{"lng":121.428563,"lat":31.24062,"count":20},
{"lng":121.507497,"lat":31.229014,"count":20},
{"lng":121.484763,"lat":31.211014,"count":20},
{"lng":121.466873,"lat":31.226166,"count":20},
{"lng":121.484517,"lat":31.240157,"count":20},
{"lng":121.37446,"lat":31.188227,"count":20},
{"lng":121.466873,"lat":31.226166,"count":20},
{"lng":121.518564,"lat":31.313032,"count":20},
{"lng":121.466873,"lat":31.226166,"count":20},
{"lng":121.513753,"lat":31.223275,"count":20},
{"lng":121.4768,"lat":31.211801,"count":20},
{"lng":121.454756,"lat":31.235381,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.47765,"lat":31.210479,"count":20},
{"lng":121.47765,"lat":31.210479,"count":20},
{"lng":121.507641,"lat":31.241551,"count":20},
{"lng":121.444751,"lat":31.234288,"count":20},
{"lng":121.466873,"lat":31.226166,"count":20},
{"lng":121.493935,"lat":31.295637,"count":20},
{"lng":121.485853,"lat":31.236284,"count":20},
{"lng":121.466873,"lat":31.226166,"count":20},
{"lng":121.4768,"lat":31.211801,"count":20},
{"lng":121.477193,"lat":31.21601,"count":20},
{"lng":121.433211,"lat":31.209601,"count":20},
{"lng":121.49051,"lat":31.243902,"count":20},
{"lng":121.541531,"lat":31.223449,"count":20},
{"lng":121.50895,"lat":31.227173,"count":20},
{"lng":121.50895,"lat":31.227173,"count":20},
{"lng":121.50895,"lat":31.227173,"count":20},
{"lng":121.507246,"lat":31.225508,"count":20},
{"lng":121.511308,"lat":31.245501,"count":20},
{"lng":121.541531,"lat":31.223449,"count":20},
{"lng":121.491113,"lat":31.241623,"count":20},
{"lng":121.490938,"lat":31.24031,"count":20},
{"lng":121.386263,"lat":31.238801,"count":20},
{"lng":121.463387,"lat":31.228652,"count":20},
{"lng":121.490992,"lat":31.243455,"count":20},
{"lng":121.181713,"lat":30.833095,"count":20},
{"lng":121.577601,"lat":31.272652,"count":20},
{"lng":121.466873,"lat":31.226166,"count":20},
{"lng":121.47765,"lat":31.210479,"count":20},
{"lng":121.482715,"lat":31.289505,"count":20},
{"lng":121.47765,"lat":31.210479,"count":20},
{"lng":121.525532,"lat":31.292896,"count":20},
{"lng":121.452771,"lat":31.194941,"count":20},
{"lng":121.47765,"lat":31.210479,"count":20},
{"lng":121.488586,"lat":31.23717,"count":20},
{"lng":121.479373,"lat":31.216878,"count":20},
{"lng":121.524042,"lat":31.249641,"count":20},
{"lng":121.524042,"lat":31.249641,"count":20},
{"lng":121.486586,"lat":31.230862,"count":20},
{"lng":121.484866,"lat":31.212328,"count":20},
{"lng":121.556089,"lat":31.233027,"count":20},
{"lng":121.50947,"lat":31.226634,"count":20},
{"lng":121.541531,"lat":31.223449,"count":20},

{"lng":121.514495,"lat":31.221275,"count":20},
{"lng":121.524042,"lat":31.249641,"count":20},
{"lng":121.638481,"lat":31.230895,"count":20},
{"lng":121.456561,"lat":31.243094,"count":20},
{"lng":121.476811,"lat":31.238359,"count":20},
{"lng":121.466873,"lat":31.226166,"count":20},
{"lng":121.479351,"lat":31.227961,"count":20},
{"lng":121.500138,"lat":31.236911,"count":20},
{"lng":121.485853,"lat":31.236284,"count":20},
{"lng":121.485853,"lat":31.236284,"count":20},
{"lng":121.494184,"lat":31.238275,"count":20},
{"lng":121.483547,"lat":31.20906,"count":20},
{"lng":121.491645,"lat":31.241726,"count":20},
{"lng":121.441619,"lat":31.216675,"count":20},
{"lng":121.494184,"lat":31.238275,"count":20},
{"lng":121.49329,"lat":31.214472,"count":20},
{"lng":121.490147,"lat":31.247446,"count":20},
{"lng":121.473029,"lat":31.229003,"count":20},
{"lng":121.47765,"lat":31.210479,"count":20},
{"lng":121.476318,"lat":31.237889,"count":20},
{"lng":121.485708,"lat":31.210783,"count":20},
{"lng":121.49686,"lat":31.238336,"count":20},
{"lng":121.466873,"lat":31.226166,"count":20},
{"lng":121.51311,"lat":31.218529,"count":20},
{"lng":121.471192,"lat":31.205641,"count":20},
{"lng":121.485708,"lat":31.210783,"count":20},
{"lng":121.502305,"lat":31.220178,"count":20},
{"lng":121.605749,"lat":31.211462,"count":20},
{"lng":121.542036,"lat":31.165405,"count":20},
{"lng":121.496072,"lat":31.227203,"count":20},
{"lng":121.477851,"lat":31.228445,"count":20},
{"lng":121.504137,"lat":31.220922,"count":20},
{"lng":121.476811,"lat":31.238359,"count":20},
{"lng":121.502994,"lat":31.220823,"count":20},
{"lng":121.415699,"lat":31.151755,"count":20},
{"lng":121.50566,"lat":31.22594,"count":20},
{"lng":121.504748,"lat":31.222031,"count":20},
{"lng":121.51115,"lat":31.216751,"count":20},
{"lng":121.526321,"lat":31.30485,"count":20},
{"lng":121.504907,"lat":31.233289,"count":20},
{"lng":121.506832,"lat":31.230597,"count":20},
{"lng":121.506012,"lat":31.23065,"count":20},
{"lng":121.506928,"lat":31.230752,"count":20},
{"lng":121.506012,"lat":31.23065,"count":20},
{"lng":121.506928,"lat":31.230752,"count":20},
{"lng":121.514154,"lat":31.218954,"count":20},
{"lng":121.506282,"lat":31.22989,"count":20},
{"lng":121.51313,"lat":31.217619,"count":20},
{"lng":121.495326,"lat":31.219397,"count":20},
{"lng":121.489622,"lat":31.216933,"count":20},
{"lng":121.506928,"lat":31.230752,"count":20},
{"lng":121.495326,"lat":31.219397,"count":20},
{"lng":121.512207,"lat":31.217615,"count":20},
{"lng":121.512207,"lat":31.217615,"count":20},
{"lng":121.512207,"lat":31.217615,"count":20},
{"lng":121.515376,"lat":31.242991,"count":20},
{"lng":121.561988,"lat":31.11284,"count":20},
{"lng":121.39059,"lat":31.278541,"count":20},
{"lng":121.496168,"lat":31.223186,"count":20},
{"lng":121.455205,"lat":31.232371,"count":20},
{"lng":121.537447,"lat":31.229868,"count":20},
{"lng":121.495326,"lat":31.219397,"count":20},
{"lng":121.262948,"lat":31.160451,"count":20},
{"lng":121.531148,"lat":31.246356,"count":20},
{"lng":121.496623,"lat":31.217747,"count":20},
{"lng":121.494518,"lat":31.219429,"count":20},
{"lng":121.446235,"lat":31.169152,"count":20},
{"lng":121.507606,"lat":31.229728,"count":20},
{"lng":121.494518,"lat":31.219429,"count":20},
{"lng":121.498895,"lat":31.214447,"count":20},
{"lng":121.497627,"lat":31.220778,"count":20},
{"lng":121.491106,"lat":31.217591,"count":20},
{"lng":121.508229,"lat":31.210968,"count":20},
{"lng":121.499827,"lat":31.204508,"count":20},
{"lng":121.49329,"lat":31.214472,"count":20},
{"lng":121.489622,"lat":31.216933,"count":20},
{"lng":121.498573,"lat":31.213269,"count":20},
{"lng":121.492503,"lat":31.213057,"count":20},
{"lng":121.502549,"lat":31.213496,"count":20},

{"lng":121.491828,"lat":31.212582,"count":20},
{"lng":121.447816,"lat":31.15985,"count":20},
{"lng":121.492062,"lat":31.209807,"count":20},
{"lng":121.476009,"lat":31.243462,"count":20},
{"lng":121.497291,"lat":31.21447,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.492649,"lat":31.205128,"count":20},
{"lng":121.492649,"lat":31.205128,"count":20},
{"lng":121.492649,"lat":31.205128,"count":20},
{"lng":121.268006,"lat":31.20292,"count":20},
{"lng":121.268006,"lat":31.20292,"count":20},
{"lng":121.506655,"lat":31.168631,"count":20},
{"lng":121.4956,"lat":31.207284,"count":20},
{"lng":121.493092,"lat":31.216426,"count":20},
{"lng":121.492691,"lat":31.205694,"count":20},
{"lng":121.39316,"lat":31.181632,"count":20},
{"lng":121.495305,"lat":31.213528,"count":20},
{"lng":121.496816,"lat":31.209913,"count":20},
{"lng":121.491915,"lat":31.216362,"count":20},
{"lng":121.464464,"lat":31.232089,"count":20},
{"lng":121.480218,"lat":31.220356,"count":20},

{"lng":121.489622,"lat":31.216933,"count":20},
{"lng":121.501924,"lat":31.209257,"count":20},
{"lng":121.501276,"lat":31.214517,"count":20},
{"lng":121.490209,"lat":31.217024,"count":20},
{"lng":121.504421,"lat":31.215297,"count":20},
{"lng":121.492503,"lat":31.213057,"count":20},
{"lng":121.493868,"lat":31.213118,"count":20},
{"lng":121.490209,"lat":31.217024,"count":20},
{"lng":121.45171,"lat":31.209173,"count":20},

{"lng":121.442904,"lat":31.247262,"count":20},
{"lng":121.492432,"lat":31.220124,"count":20}


 
  ];
   
    if(!isSupportCanvas()){
    	alert('热力图目前只支持有canvas支持的浏览器,您所使用的浏览器不能使用热力图功能~')
    }
	//详细的参数,可以查看heatmap.js的文档 https://github.com/pa7/heatmap.js/blob/master/README.md
	//参数说明如下:
	/* visible 热力图是否显示,默认为true
     * opacity 热力的透明度,1-100
     * radius 势力图的每个点的半径大小   
     * gradient  {JSON} 热力图的渐变区间 . gradient如下所示
     *	{
			.2:'rgb(0, 255, 255)',
			.5:'rgb(0, 110, 255)',
			.8:'rgb(100, 0, 255)'
		}
		其中 key 表示插值的位置, 0~1. 
		    value 为颜色值. 
     */
	heatmapOverlay = new BMapLib.HeatmapOverlay({"radius":60});
	map.addOverlay(heatmapOverlay);
	heatmapOverlay.setDataSet({data:points,max:200});
	//是否显示热力图
    function openHeatmap(){
        heatmapOverlay.show();
    }
	function closeHeatmap(){
        heatmapOverlay.hide();
    }
	closeHeatmap();
    function setGradient(){
     	/*格式如下所示:
		{
	  		0:'rgb(102, 255, 0)',
	 	 	.5:'rgb(255, 170, 0)',
		  	1:'rgb(255, 0, 0)'
		}*/
     	var gradient = {};
     	var colors = document.querySelectorAll("input[type='color']");
     	colors = [].slice.call(colors,0);
     	colors.forEach(function(ele){
			gradient[ele.getAttribute("data-key")] = ele.value; 
     	});
        heatmapOverlay.setOptions({"gradient":gradient});
    }
	//判断浏览区是否支持canvas
    function isSupportCanvas(){
        var elem = document.createElement('canvas');
        return !!(elem.getContext && elem.getContext('2d'));
    }
</script>