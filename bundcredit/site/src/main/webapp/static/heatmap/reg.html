<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=2cc0f5699b8586943eb2f4b05b10f4d9"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/library/Heatmap/2.0/src/Heatmap_min.js"></script>
    <title>热力图功能示例</title>
    <style type="text/css">
		ul,li{list-style: none;margin:0;padding:0;float:left;}
		html{height:200%}
		body{height:200%;margin:0px;padding:0px;font-family:"微软雅黑";}
		#container{height:600px;width:200%;}
		#r-result{width:200%;}
    </style>	
</head>
<body onload="openHeatmap();">
	<div id="container"></div>
<!-- 	<div id="r-result">
		<input type="button"  onclick="openHeatmap();" value="显示热力图"/><input type="button"  onclick="closeHeatmap();" value="关闭热力图"/>
	</div> -->
</body>
</html>
<script type="text/javascript">
    var map = new BMap.Map("container");          // 创建地图实例

    var point = new BMap.Point(121.521,31.225);
    map.centerAndZoom(point, 15);             // 初始化地图，设置中心点坐标和地图级别
    map.enableScrollWheelZoom(); // 允许滚轮缩放
  
    var points =[
{"lng":121.473792,"lat":31.22344,"count":20},
{"lng":121.473792,"lat":31.22344,"count":20},
{"lng":121.473792,"lat":31.22344,"count":20},
{"lng":121.473792,"lat":31.22344,"count":20},
{"lng":121.518768,"lat":30.923645,"count":20},
{"lng":121.473792,"lat":31.22344,"count":20},
{"lng":121.473792,"lat":31.22344,"count":20},
{"lng":121.473792,"lat":31.22344,"count":20},
{"lng":121.473792,"lat":31.22344,"count":20},
{"lng":121.473792,"lat":31.22344,"count":20},
{"lng":121.488554,"lat":31.235231,"count":20},
{"lng":121.495123,"lat":31.242197,"count":20},
{"lng":121.473792,"lat":31.22344,"count":20},
{"lng":121.470454,"lat":31.215162,"count":20},
{"lng":121.470454,"lat":31.215162,"count":20},
{"lng":121.470454,"lat":31.215162,"count":20},
{"lng":121.470454,"lat":31.215162,"count":20},
{"lng":121.470454,"lat":31.215162,"count":20},
{"lng":121.470454,"lat":31.215162,"count":20},
{"lng":121.472162,"lat":31.216198,"count":20},
{"lng":121.470454,"lat":31.215162,"count":20},
{"lng":121.470454,"lat":31.215162,"count":20},
{"lng":121.507568,"lat":31.216582,"count":20},
{"lng":121.471004,"lat":31.222345,"count":20},
{"lng":121.470454,"lat":31.215162,"count":20},
{"lng":121.471498,"lat":31.215972,"count":20},
{"lng":121.470454,"lat":31.215162,"count":20},
{"lng":121.472162,"lat":31.216198,"count":20},
{"lng":121.47046,"lat":31.215324,"count":20},
{"lng":121.470454,"lat":31.215162,"count":20},
{"lng":121.46382,"lat":31.228978,"count":20},
{"lng":121.470454,"lat":31.215162,"count":20},
{"lng":121.466582,"lat":31.228935,"count":20},
{"lng":121.470486,"lat":31.223246,"count":20},
{"lng":121.470517,"lat":31.224261,"count":20},
{"lng":121.466611,"lat":31.227514,"count":20},
{"lng":121.474239,"lat":31.227503,"count":20},
{"lng":121.485803,"lat":31.234665,"count":20},
{"lng":121.484242,"lat":31.23063,"count":20},
{"lng":121.486586,"lat":31.230862,"count":20},
{"lng":121.486455,"lat":31.232774,"count":20},
{"lng":121.550836,"lat":31.211917,"count":20},
{"lng":121.489409,"lat":31.178118,"count":20},
{"lng":121.486586,"lat":31.230862,"count":20},
{"lng":121.476172,"lat":31.2211,"count":20},
{"lng":121.489116,"lat":31.232162,"count":20},
{"lng":121.483457,"lat":31.220122,"count":20},
{"lng":121.47924,"lat":31.228171,"count":20},
{"lng":121.486232,"lat":31.224587,"count":20},
{"lng":121.480808,"lat":31.224998,"count":20},
{"lng":121.480808,"lat":31.224998,"count":20},
{"lng":121.483457,"lat":31.220122,"count":20},
{"lng":121.478151,"lat":31.221331,"count":20},
{"lng":121.484242,"lat":31.23063,"count":20},
{"lng":121.484242,"lat":31.23063,"count":20},
{"lng":121.486232,"lat":31.224587,"count":20},
{"lng":121.479894,"lat":31.229038,"count":20},
{"lng":121.486232,"lat":31.224587,"count":20},
{"lng":121.38559,"lat":31.111867,"count":20},
{"lng":121.49009,"lat":31.239788,"count":20},
{"lng":121.253748,"lat":31.042401,"count":20},
{"lng":121.481763,"lat":31.228866,"count":20},
{"lng":121.474995,"lat":31.226553,"count":20},
{"lng":121.47297,"lat":31.227351,"count":20},
{"lng":121.474995,"lat":31.226553,"count":20},
{"lng":121.475774,"lat":31.226908,"count":20},
{"lng":121.467837,"lat":31.224217,"count":20},
{"lng":121.464523,"lat":31.227568,"count":20},
{"lng":121.469564,"lat":31.224402,"count":20},
{"lng":121.471048,"lat":31.22458,"count":20},
{"lng":121.475067,"lat":31.221171,"count":20},
{"lng":121.484837,"lat":31.211724,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.472075,"lat":31.226108,"count":20},
{"lng":121.484837,"lat":31.211724,"count":20},
{"lng":121.478578,"lat":31.227915,"count":20},
{"lng":121.47924,"lat":31.228171,"count":20},
{"lng":121.47924,"lat":31.228171,"count":20},
{"lng":121.483457,"lat":31.220122,"count":20},
{"lng":121.483457,"lat":31.220122,"count":20},
{"lng":121.486232,"lat":31.224587,"count":20},
{"lng":121.480808,"lat":31.224998,"count":20},
{"lng":121.483572,"lat":31.230854,"count":20},
{"lng":121.481479,"lat":31.223521,"count":20},
{"lng":121.481442,"lat":31.229632,"count":20},
{"lng":121.487228,"lat":31.229962,"count":20},
{"lng":121.520535,"lat":31.21093,"count":20},
{"lng":121.483572,"lat":31.230854,"count":20},
{"lng":121.485458,"lat":31.231126,"count":20},
{"lng":121.473696,"lat":31.238278,"count":20},
{"lng":121.480667,"lat":31.228782,"count":20},
{"lng":121.484517,"lat":31.240157,"count":20},
{"lng":121.476811,"lat":31.238359,"count":20},
{"lng":121.487148,"lat":31.240013,"count":20},
{"lng":121.490938,"lat":31.24031,"count":20},
{"lng":121.49315,"lat":31.245089,"count":20},
{"lng":121.492045,"lat":31.245355,"count":20},
{"lng":121.486455,"lat":31.232774,"count":20},
{"lng":121.49869,"lat":31.238777,"count":20},
{"lng":121.500138,"lat":31.236911,"count":20},
{"lng":121.49686,"lat":31.238336,"count":20},
{"lng":121.490938,"lat":31.24031,"count":20},
{"lng":121.497101,"lat":31.238824,"count":20},
{"lng":121.494577,"lat":31.237302,"count":20},
{"lng":121.49686,"lat":31.238336,"count":20},
{"lng":121.494577,"lat":31.237302,"count":20},
{"lng":121.4876,"lat":31.232806,"count":20},
{"lng":121.488245,"lat":31.232927,"count":20},
{"lng":121.497761,"lat":31.23811,"count":20},
{"lng":121.492789,"lat":31.240411,"count":20},
{"lng":121.498956,"lat":31.238806,"count":20},
{"lng":121.488022,"lat":31.232119,"count":20},
{"lng":121.493251,"lat":31.236166,"count":20},
{"lng":121.494354,"lat":31.237743,"count":20},
{"lng":121.499016,"lat":31.237679,"count":20},
{"lng":121.493161,"lat":31.245276,"count":20},
{"lng":121.494025,"lat":31.239914,"count":20},
{"lng":121.660396,"lat":31.282381,"count":20},
{"lng":121.488245,"lat":31.232927,"count":20},
{"lng":121.497142,"lat":31.240106,"count":20},
{"lng":121.496315,"lat":31.238666,"count":20},
{"lng":121.497722,"lat":31.235338,"count":20},
{"lng":121.498071,"lat":31.238467,"count":20},
{"lng":121.488245,"lat":31.232927,"count":20},
{"lng":121.493893,"lat":31.23531,"count":20},
{"lng":121.495818,"lat":31.237117,"count":20},
{"lng":121.493893,"lat":31.23531,"count":20},
{"lng":121.495747,"lat":31.237351,"count":20},
{"lng":121.488376,"lat":31.206844,"count":20},
{"lng":121.488376,"lat":31.206844,"count":20},
{"lng":121.493893,"lat":31.23531,"count":20},
{"lng":121.498071,"lat":31.238467,"count":20},
{"lng":121.601926,"lat":31.216371,"count":20},
{"lng":121.495747,"lat":31.237351,"count":20},
{"lng":121.488376,"lat":31.206844,"count":20},
{"lng":121.490863,"lat":31.236327,"count":20},
{"lng":121.497425,"lat":31.236109,"count":20},
{"lng":121.50947,"lat":31.226634,"count":20},
{"lng":121.493251,"lat":31.236166,"count":20},
{"lng":121.493251,"lat":31.236166,"count":20},
{"lng":121.491319,"lat":31.236688,"count":20},
{"lng":121.491452,"lat":31.246538,"count":20},
{"lng":121.496468,"lat":31.24574,"count":20},
{"lng":121.491113,"lat":31.241623,"count":20},
{"lng":121.490538,"lat":31.247811,"count":20},
{"lng":121.490863,"lat":31.236327,"count":20},
{"lng":121.496322,"lat":31.245539,"count":20},
{"lng":121.479749,"lat":31.199507,"count":20},
{"lng":121.494532,"lat":31.24734,"count":20},
{"lng":121.488376,"lat":31.206844,"count":20},
{"lng":121.491113,"lat":31.241623,"count":20},
{"lng":121.489658,"lat":31.241754,"count":20},
{"lng":121.48805,"lat":31.245508,"count":20},
{"lng":121.489818,"lat":31.241372,"count":20},
{"lng":121.491203,"lat":31.242572,"count":20},
{"lng":121.49315,"lat":31.245089,"count":20},
{"lng":121.518768,"lat":30.923645,"count":20},
{"lng":121.49051,"lat":31.243902,"count":20},
{"lng":121.493161,"lat":31.245276,"count":20},
{"lng":121.493161,"lat":31.245276,"count":20},
{"lng":121.492553,"lat":31.245841,"count":20},
{"lng":121.479749,"lat":31.199507,"count":20},
{"lng":121.492304,"lat":31.248187,"count":20},
{"lng":121.479749,"lat":31.199507,"count":20},
{"lng":121.482452,"lat":31.205718,"count":20},
{"lng":121.477833,"lat":31.207903,"count":20},
{"lng":121.484517,"lat":31.240157,"count":20},
{"lng":121.488554,"lat":31.235231,"count":20},
{"lng":121.483875,"lat":31.238584,"count":20},
{"lng":121.491494,"lat":31.246449,"count":20},
{"lng":121.483292,"lat":31.238959,"count":20},
{"lng":121.488554,"lat":31.235231,"count":20},
{"lng":121.483875,"lat":31.238584,"count":20},
{"lng":121.488554,"lat":31.235231,"count":20},
{"lng":121.492045,"lat":31.245355,"count":20},
{"lng":121.495325,"lat":31.244243,"count":20},
{"lng":121.493202,"lat":31.243061,"count":20},
{"lng":121.484517,"lat":31.240157,"count":20},
{"lng":121.488017,"lat":31.206508,"count":20},
{"lng":121.478425,"lat":31.205495,"count":20},
{"lng":121.49315,"lat":31.245089,"count":20},
{"lng":121.494453,"lat":31.242931,"count":20},
{"lng":121.091425,"lat":31.130862,"count":20},
{"lng":121.489054,"lat":31.241526,"count":20},
{"lng":121.488554,"lat":31.235231,"count":20},
{"lng":121.489054,"lat":31.241526,"count":20},
{"lng":121.488376,"lat":31.206844,"count":20},
{"lng":121.492107,"lat":31.23857,"count":20},
{"lng":121.489054,"lat":31.241526,"count":20},
{"lng":121.612352,"lat":31.339185,"count":20},
{"lng":121.492107,"lat":31.23857,"count":20},
{"lng":121.482761,"lat":31.207103,"count":20},
{"lng":121.489601,"lat":31.20769,"count":20},
{"lng":121.498725,"lat":31.239151,"count":20},
{"lng":121.477833,"lat":31.207903,"count":20},
{"lng":121.488215,"lat":31.23487,"count":20},
{"lng":121.497051,"lat":31.240765,"count":20},
{"lng":121.495907,"lat":31.237959,"count":20},
{"lng":121.497713,"lat":31.236999,"count":20},
{"lng":121.489449,"lat":31.233759,"count":20},
{"lng":121.494421,"lat":31.239635,"count":20},
{"lng":121.494615,"lat":31.24077,"count":20},
{"lng":121.410399,"lat":30.966035,"count":20},
{"lng":121.496466,"lat":31.240483,"count":20},
{"lng":121.488376,"lat":31.206844,"count":20},
{"lng":121.483231,"lat":31.23807,"count":20},
{"lng":121.496388,"lat":31.238977,"count":20},
{"lng":121.494577,"lat":31.237302,"count":20},
{"lng":121.494577,"lat":31.237302,"count":20},
{"lng":121.489601,"lat":31.20769,"count":20},
{"lng":121.4876,"lat":31.232806,"count":20},
{"lng":121.4876,"lat":31.232806,"count":20},
{"lng":121.4876,"lat":31.232806,"count":20},
{"lng":121.488022,"lat":31.232119,"count":20},
{"lng":121.497101,"lat":31.238824,"count":20},
{"lng":121.497101,"lat":31.238824,"count":20},
{"lng":121.499965,"lat":31.237127,"count":20},
{"lng":121.49381,"lat":31.240537,"count":20},
{"lng":121.498515,"lat":31.238203,"count":20},
{"lng":121.492204,"lat":31.248133,"count":20},
{"lng":121.494462,"lat":31.245381,"count":20},
{"lng":121.489658,"lat":31.241754,"count":20},
{"lng":121.484778,"lat":31.235118,"count":20},
{"lng":121.489818,"lat":31.241372,"count":20},
{"lng":121.354867,"lat":31.462745,"count":20},
{"lng":121.476811,"lat":31.238359,"count":20},
{"lng":121.488504,"lat":31.238149,"count":20},
{"lng":121.269071,"lat":31.307263,"count":20},
{"lng":121.52572,"lat":31.236379,"count":20},
{"lng":121.488211,"lat":31.243447,"count":20},

{"lng":121.490992,"lat":31.243455,"count":20},
{"lng":121.46509,"lat":31.265921,"count":20},
{"lng":121.494954,"lat":31.244515,"count":20},
{"lng":121.488376,"lat":31.206844,"count":20},
{"lng":121.488376,"lat":31.206844,"count":20},
{"lng":121.494581,"lat":31.248089,"count":20},
{"lng":121.493893,"lat":31.23531,"count":20},
{"lng":121.489658,"lat":31.241754,"count":20},
{"lng":121.498611,"lat":31.223671,"count":20},
{"lng":121.497101,"lat":31.238824,"count":20},
{"lng":121.49869,"lat":31.238777,"count":20},
{"lng":121.473696,"lat":31.238278,"count":20},
{"lng":121.507246,"lat":31.225508,"count":20},
{"lng":121.487287,"lat":31.21386,"count":20},
{"lng":121.495978,"lat":31.240435,"count":20},
{"lng":121.488376,"lat":31.206844,"count":20},
{"lng":121.49051,"lat":31.243902,"count":20},
{"lng":121.490147,"lat":31.247446,"count":20},
{"lng":121.507246,"lat":31.225508,"count":20},
{"lng":121.479894,"lat":31.229038,"count":20},
{"lng":121.490938,"lat":31.24031,"count":20},
{"lng":121.491203,"lat":31.242572,"count":20},
{"lng":121.489086,"lat":31.233933,"count":20},
{"lng":121.472256,"lat":31.225891,"count":20},
{"lng":121.472256,"lat":31.225891,"count":20},
{"lng":121.476724,"lat":31.212311,"count":20},
{"lng":121.482406,"lat":31.239631,"count":20},
{"lng":121.490372,"lat":31.243119,"count":20},
{"lng":121.482406,"lat":31.239631,"count":20},
{"lng":121.484837,"lat":31.211724,"count":20},
{"lng":121.491161,"lat":31.246522,"count":20},
{"lng":121.491161,"lat":31.246522,"count":20},
{"lng":121.491161,"lat":31.246522,"count":20},
{"lng":121.491533,"lat":31.221836,"count":20},
{"lng":121.490372,"lat":31.243119,"count":20},
{"lng":121.504748,"lat":31.222031,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.507246,"lat":31.225508,"count":20},
{"lng":121.491161,"lat":31.246522,"count":20},
{"lng":121.496072,"lat":31.227203,"count":20},
{"lng":121.496168,"lat":31.223186,"count":20},
{"lng":121.507246,"lat":31.225508,"count":20},
{"lng":121.503957,"lat":31.229732,"count":20},
{"lng":121.488981,"lat":31.232086,"count":20},
{"lng":121.4768,"lat":31.211801,"count":20},
{"lng":121.491161,"lat":31.246522,"count":20},
{"lng":121.505126,"lat":31.227939,"count":20},
{"lng":121.483347,"lat":31.245601,"count":20},
{"lng":121.483572,"lat":31.230854,"count":20},
{"lng":121.490147,"lat":31.247446,"count":20},
{"lng":121.503957,"lat":31.229732,"count":20},
{"lng":121.490147,"lat":31.247446,"count":20},
{"lng":121.490147,"lat":31.247446,"count":20},
{"lng":121.490147,"lat":31.247446,"count":20},
{"lng":121.488981,"lat":31.232086,"count":20},
{"lng":121.502335,"lat":31.220068,"count":20},
{"lng":121.49329,"lat":31.214472,"count":20},
{"lng":121.507246,"lat":31.225508,"count":20},
{"lng":121.49329,"lat":31.214472,"count":20},
{"lng":121.503957,"lat":31.229732,"count":20},
{"lng":121.483572,"lat":31.230854,"count":20},
{"lng":121.488981,"lat":31.232086,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.480334,"lat":31.211289,"count":20},
{"lng":121.488981,"lat":31.232086,"count":20},
{"lng":121.503957,"lat":31.229732,"count":20},
{"lng":121.490372,"lat":31.243119,"count":20},
{"lng":121.489086,"lat":31.233933,"count":20},
{"lng":121.490147,"lat":31.247446,"count":20},
{"lng":121.503957,"lat":31.229732,"count":20},
{"lng":121.490372,"lat":31.243119,"count":20},
{"lng":121.490147,"lat":31.247446,"count":20},
{"lng":121.482406,"lat":31.239631,"count":20},
{"lng":121.507246,"lat":31.225508,"count":20},
{"lng":121.364511,"lat":31.065678,"count":20},
{"lng":121.513339,"lat":31.217821,"count":20},
{"lng":121.513753,"lat":31.223275,"count":20},
{"lng":121.489658,"lat":31.241754,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.511649,"lat":31.21442,"count":20},
{"lng":121.503957,"lat":31.229732,"count":20},
{"lng":121.511509,"lat":31.214239,"count":20},
{"lng":121.480031,"lat":31.209624,"count":20},
{"lng":121.504748,"lat":31.222031,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.504642,"lat":31.230542,"count":20},
{"lng":121.504642,"lat":31.230542,"count":20},
{"lng":121.485878,"lat":31.212807,"count":20},
{"lng":121.47765,"lat":31.210479,"count":20},
{"lng":121.482144,"lat":31.219708,"count":20},
{"lng":121.488981,"lat":31.232086,"count":20},
{"lng":121.482406,"lat":31.239631,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.470454,"lat":31.215162,"count":20},
{"lng":121.477684,"lat":31.242701,"count":20},
{"lng":121.49074,"lat":31.217533,"count":20},
{"lng":121.477684,"lat":31.242701,"count":20},
{"lng":121.51245,"lat":31.216089,"count":20},
{"lng":121.514351,"lat":31.222519,"count":20},
{"lng":121.503957,"lat":31.229732,"count":20},
{"lng":121.480031,"lat":31.209624,"count":20},
{"lng":121.504418,"lat":31.222382,"count":20},
{"lng":121.488981,"lat":31.232086,"count":20},
{"lng":121.488981,"lat":31.232086,"count":20},
{"lng":121.484837,"lat":31.211724,"count":20},
{"lng":121.490147,"lat":31.247446,"count":20},
{"lng":121.504748,"lat":31.222031,"count":20},
{"lng":121.488001,"lat":31.227287,"count":20},
{"lng":121.507246,"lat":31.225508,"count":20},
{"lng":121.488981,"lat":31.232086,"count":20},
{"lng":121.507246,"lat":31.225508,"count":20},
{"lng":121.507246,"lat":31.225508,"count":20},
{"lng":121.488981,"lat":31.232086,"count":20},
{"lng":121.498545,"lat":31.213821,"count":20},
{"lng":121.504748,"lat":31.222031,"count":20},
{"lng":121.491494,"lat":31.246449,"count":20},
{"lng":121.470454,"lat":31.215162,"count":20},
{"lng":121.470454,"lat":31.215162,"count":20},
{"lng":121.470454,"lat":31.215162,"count":20},
{"lng":121.470454,"lat":31.215162,"count":20},
{"lng":121.473792,"lat":31.22344,"count":20},
{"lng":121.470454,"lat":31.215162,"count":20},
{"lng":121.473792,"lat":31.22344,"count":20},
{"lng":121.473792,"lat":31.22344,"count":20},
{"lng":121.493679,"lat":31.249096,"count":20},
{"lng":121.473792,"lat":31.22344,"count":20},
{"lng":121.491319,"lat":31.236688,"count":20},
{"lng":121.470454,"lat":31.215162,"count":20},
{"lng":121.482481,"lat":31.229883,"count":20},
{"lng":121.473792,"lat":31.22344,"count":20},
{"lng":121.482144,"lat":31.219708,"count":20},
{"lng":121.506746,"lat":31.21798,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.500137,"lat":31.229491,"count":20},
{"lng":121.500137,"lat":31.229491,"count":20},
{"lng":121.503957,"lat":31.229732,"count":20},
{"lng":121.475594,"lat":31.214169,"count":20},
{"lng":121.480031,"lat":31.209624,"count":20},
{"lng":121.476137,"lat":31.213981,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.47664,"lat":31.211377,"count":20},
{"lng":121.503957,"lat":31.229732,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.480031,"lat":31.209624,"count":20},
{"lng":121.485708,"lat":31.210783,"count":20},
{"lng":121.513339,"lat":31.217821,"count":20},
{"lng":121.496168,"lat":31.223186,"count":20},
{"lng":121.490372,"lat":31.243119,"count":20},
{"lng":121.490372,"lat":31.243119,"count":20},
{"lng":121.491533,"lat":31.221836,"count":20},
{"lng":121.507246,"lat":31.225508,"count":20},
{"lng":121.480031,"lat":31.209624,"count":20},
{"lng":121.507246,"lat":31.225508,"count":20},
{"lng":121.507246,"lat":31.225508,"count":20},
{"lng":121.503957,"lat":31.229732,"count":20},
{"lng":121.484242,"lat":31.23063,"count":20},
{"lng":121.488981,"lat":31.232086,"count":20},
{"lng":121.507246,"lat":31.225508,"count":20},
{"lng":121.432523,"lat":31.188293,"count":20},
{"lng":121.507497,"lat":31.229014,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.484837,"lat":31.211724,"count":20},
{"lng":121.488981,"lat":31.232086,"count":20},
{"lng":121.482699,"lat":31.239719,"count":20},
{"lng":121.484517,"lat":31.240157,"count":20},
{"lng":121.503957,"lat":31.229732,"count":20},
{"lng":121.47765,"lat":31.210479,"count":20},
{"lng":121.496072,"lat":31.227203,"count":20},
{"lng":121.482699,"lat":31.239719,"count":20},
{"lng":121.496072,"lat":31.227203,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.484763,"lat":31.211014,"count":20},
{"lng":121.480031,"lat":31.209624,"count":20},
{"lng":121.480031,"lat":31.209624,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.480031,"lat":31.209624,"count":20},
{"lng":121.4768,"lat":31.211801,"count":20},
{"lng":121.477052,"lat":31.215572,"count":20},
{"lng":121.490147,"lat":31.247446,"count":20},
{"lng":121.466873,"lat":31.226166,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.4768,"lat":31.211801,"count":20},
{"lng":121.506221,"lat":31.22606,"count":20},
{"lng":121.47765,"lat":31.210479,"count":20},
{"lng":121.494642,"lat":31.247718,"count":20},
{"lng":121.47765,"lat":31.210479,"count":20},
{"lng":121.488981,"lat":31.232086,"count":20},
{"lng":121.503957,"lat":31.229732,"count":20},
{"lng":121.485853,"lat":31.236284,"count":20},
{"lng":121.480031,"lat":31.209624,"count":20},
{"lng":121.477193,"lat":31.21601,"count":20},
{"lng":121.490147,"lat":31.247446,"count":20},
{"lng":121.513753,"lat":31.223275,"count":20},
{"lng":121.490147,"lat":31.247446,"count":20},
{"lng":121.507246,"lat":31.225508,"count":20},
{"lng":121.489658,"lat":31.241754,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.49051,"lat":31.243902,"count":20},
{"lng":121.50895,"lat":31.227173,"count":20},
{"lng":121.488981,"lat":31.232086,"count":20},
{"lng":121.496072,"lat":31.227203,"count":20},
{"lng":121.507246,"lat":31.225508,"count":20},
{"lng":121.50895,"lat":31.227173,"count":20},
{"lng":121.503957,"lat":31.229732,"count":20},
{"lng":121.490938,"lat":31.24031,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.507246,"lat":31.225508,"count":20},
{"lng":121.507246,"lat":31.225508,"count":20},
{"lng":121.483347,"lat":31.245601,"count":20},
{"lng":121.506221,"lat":31.22606,"count":20},
{"lng":121.463387,"lat":31.228652,"count":20},
{"lng":121.479373,"lat":31.216878,"count":20},
{"lng":121.47765,"lat":31.210479,"count":20},
{"lng":121.466873,"lat":31.226166,"count":20},
{"lng":121.480031,"lat":31.209624,"count":20},
{"lng":121.503957,"lat":31.229732,"count":20},
{"lng":121.503957,"lat":31.229732,"count":20},
{"lng":121.482699,"lat":31.239719,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.482406,"lat":31.239631,"count":20},
{"lng":121.47765,"lat":31.210479,"count":20},
{"lng":121.480031,"lat":31.209624,"count":20},
{"lng":121.508682,"lat":31.22605,"count":20},
{"lng":121.482406,"lat":31.239631,"count":20},
{"lng":121.476811,"lat":31.238359,"count":20},
{"lng":121.511379,"lat":31.214019,"count":20},
{"lng":121.50947,"lat":31.226634,"count":20},
{"lng":121.47765,"lat":31.210479,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.480334,"lat":31.211289,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.513753,"lat":31.223275,"count":20},
{"lng":121.475086,"lat":31.231888,"count":20},
{"lng":121.490147,"lat":31.247446,"count":20},
{"lng":121.490147,"lat":31.247446,"count":20},
{"lng":121.500138,"lat":31.236911,"count":20},
{"lng":121.476318,"lat":31.237889,"count":20},
{"lng":121.489622,"lat":31.216933,"count":20},
{"lng":121.47765,"lat":31.210479,"count":20},
{"lng":121.485853,"lat":31.236284,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.485853,"lat":31.236284,"count":20},
{"lng":121.494184,"lat":31.238275,"count":20},
{"lng":121.490147,"lat":31.247446,"count":20},
{"lng":121.483547,"lat":31.20906,"count":20},
{"lng":121.494184,"lat":31.238275,"count":20},
{"lng":121.482406,"lat":31.239631,"count":20},
{"lng":121.490147,"lat":31.247446,"count":20},
{"lng":121.49329,"lat":31.214472,"count":20},
{"lng":121.49686,"lat":31.238336,"count":20},
{"lng":121.507246,"lat":31.225508,"count":20},
{"lng":121.496072,"lat":31.227203,"count":20},
{"lng":121.485708,"lat":31.210783,"count":20},
{"lng":121.503957,"lat":31.229732,"count":20},
{"lng":121.484549,"lat":31.211638,"count":20},
{"lng":121.480031,"lat":31.209624,"count":20},
{"lng":121.508682,"lat":31.22605,"count":20},
{"lng":121.502305,"lat":31.220178,"count":20},
{"lng":121.504748,"lat":31.222031,"count":20},
{"lng":121.504567,"lat":31.221361,"count":20},
{"lng":121.504137,"lat":31.220922,"count":20},
{"lng":121.485708,"lat":31.210783,"count":20},
{"lng":121.50478,"lat":31.228818,"count":20},
{"lng":121.502994,"lat":31.220823,"count":20},
{"lng":121.504848,"lat":31.228897,"count":20},
{"lng":121.507606,"lat":31.229728,"count":20},
{"lng":121.476811,"lat":31.238359,"count":20},
{"lng":121.506923,"lat":31.23105,"count":20},
{"lng":121.51115,"lat":31.216751,"count":20},
{"lng":121.506928,"lat":31.230752,"count":20},
{"lng":121.506923,"lat":31.23105,"count":20},
{"lng":121.503967,"lat":31.220872,"count":20},
{"lng":121.506832,"lat":31.230597,"count":20},
{"lng":121.506012,"lat":31.23065,"count":20},
{"lng":121.506928,"lat":31.230752,"count":20},
{"lng":121.506928,"lat":31.230752,"count":20},
{"lng":121.495326,"lat":31.219397,"count":20},
{"lng":121.514154,"lat":31.218954,"count":20},
{"lng":121.49706,"lat":31.221122,"count":20},
{"lng":121.504907,"lat":31.233289,"count":20},
{"lng":121.51313,"lat":31.217619,"count":20},
{"lng":121.512207,"lat":31.217615,"count":20},
{"lng":121.489622,"lat":31.216933,"count":20},
{"lng":121.512207,"lat":31.217615,"count":20},
{"lng":121.496168,"lat":31.223186,"count":20},
{"lng":121.496065,"lat":31.223353,"count":20},
{"lng":121.496168,"lat":31.223186,"count":20},
{"lng":121.496168,"lat":31.223186,"count":20},
{"lng":121.496168,"lat":31.223186,"count":20},
{"lng":121.506282,"lat":31.22989,"count":20},
{"lng":121.492554,"lat":31.221393,"count":20},
{"lng":121.49428,"lat":31.222222,"count":20},
{"lng":121.493993,"lat":31.219432,"count":20},
{"lng":121.496168,"lat":31.223186,"count":20},
{"lng":121.49521,"lat":31.219512,"count":20},
{"lng":121.494939,"lat":31.219384,"count":20},
{"lng":121.497627,"lat":31.220778,"count":20},
{"lng":121.512207,"lat":31.217615,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.49329,"lat":31.214472,"count":20},
{"lng":121.498895,"lat":31.214447,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.498617,"lat":31.203937,"count":20},
{"lng":121.491106,"lat":31.217591,"count":20},
{"lng":121.508229,"lat":31.210968,"count":20},
{"lng":121.492503,"lat":31.213057,"count":20},
{"lng":121.495305,"lat":31.213528,"count":20},
{"lng":121.489622,"lat":31.216933,"count":20},
{"lng":121.331087,"lat":31.472938,"count":20},
{"lng":121.491828,"lat":31.212582,"count":20},
{"lng":121.492062,"lat":31.209807,"count":20},
{"lng":121.502543,"lat":31.212842,"count":20},
{"lng":121.497291,"lat":31.21447,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.492649,"lat":31.205128,"count":20},
{"lng":121.492691,"lat":31.205694,"count":20},
{"lng":121.492649,"lat":31.205128,"count":20},
{"lng":121.492649,"lat":31.205128,"count":20},
{"lng":121.492649,"lat":31.205128,"count":20},
{"lng":121.4956,"lat":31.207284,"count":20},
{"lng":121.498809,"lat":31.208788,"count":20},
{"lng":121.525438,"lat":31.593792,"count":20},
{"lng":121.502549,"lat":31.213496,"count":20},
{"lng":121.504617,"lat":31.213335,"count":20},
{"lng":121.492649,"lat":31.205128,"count":20},
{"lng":121.496816,"lat":31.209913,"count":20},
{"lng":121.493868,"lat":31.213118,"count":20},
{"lng":121.491915,"lat":31.216362,"count":20},
{"lng":121.504617,"lat":31.213335,"count":20},
{"lng":121.505184,"lat":31.216719,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.489622,"lat":31.216933,"count":20},
{"lng":121.501276,"lat":31.214517,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.495902,"lat":31.217678,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.506746,"lat":31.21798,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.491773,"lat":31.212171,"count":20},
{"lng":121.495305,"lat":31.213528,"count":20},
{"lng":121.498809,"lat":31.208788,"count":20},
{"lng":121.498809,"lat":31.208788,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.499824,"lat":31.203896,"count":20},
{"lng":121.502297,"lat":31.211076,"count":20},
{"lng":121.493783,"lat":31.206481,"count":20},
{"lng":121.499619,"lat":31.217442,"count":20},
{"lng":121.495095,"lat":31.216227,"count":20},
{"lng":121.502475,"lat":31.207718,"count":20},
{"lng":121.489622,"lat":31.216933,"count":20},
{"lng":121.489622,"lat":31.216933,"count":20},
{"lng":121.489622,"lat":31.216933,"count":20},
{"lng":121.492135,"lat":31.216998,"count":20},
{"lng":121.495095,"lat":31.216227,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.502549,"lat":31.213496,"count":20},
{"lng":121.500697,"lat":31.216583,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.502549,"lat":31.213496,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.493783,"lat":31.206481,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.493693,"lat":31.205232,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},
{"lng":121.491051,"lat":31.21107,"count":20},

{"lng":121.500037,"lat":31.23132,"count":20},
{"lng":121.483347,"lat":31.245601,"count":20},
{"lng":121.494217,"lat":31.229889,"count":20},
{"lng":121.273789,"lat":31.253634,"count":20},
{"lng":121.487899,"lat":31.249162,"count":20},
{"lng":121.488821,"lat":31.216834,"count":20},
{"lng":121.500137,"lat":31.229491,"count":20},
{"lng":121.458115,"lat":31.226786,"count":20},
{"lng":121.500137,"lat":31.229491,"count":20},
{"lng":121.500872,"lat":31.218625,"count":20},
{"lng":121.500137,"lat":31.229491,"count":20},
{"lng":121.500137,"lat":31.229491,"count":20},
{"lng":121.500137,"lat":31.229491,"count":20},
{"lng":121.491909,"lat":31.218391,"count":20},
{"lng":121.500137,"lat":31.229491,"count":20},
{"lng":121.500137,"lat":31.229491,"count":20},
{"lng":121.499546,"lat":31.231215,"count":20},
{"lng":121.500037,"lat":31.23132,"count":20},
{"lng":121.488925,"lat":31.232045,"count":20},
{"lng":121.458115,"lat":31.226786,"count":20},
{"lng":121.489886,"lat":31.225035,"count":20},
{"lng":121.458115,"lat":31.226786,"count":20},
{"lng":121.499027,"lat":31.233649,"count":20},
{"lng":121.500137,"lat":31.229491,"count":20},
{"lng":121.498795,"lat":31.23188,"count":20},
{"lng":121.494579,"lat":31.233215,"count":20},
{"lng":121.500137,"lat":31.229491,"count":20},
{"lng":121.458115,"lat":31.226786,"count":20},
{"lng":121.499044,"lat":31.226618,"count":20},
{"lng":121.489366,"lat":31.228668,"count":20},
{"lng":121.49684,"lat":31.228047,"count":20},
{"lng":121.490111,"lat":31.231385,"count":20},
{"lng":121.489366,"lat":31.228668,"count":20},
{"lng":121.489366,"lat":31.228668,"count":20},
{"lng":121.490111,"lat":31.231385,"count":20},
{"lng":121.495767,"lat":31.234204,"count":20},
{"lng":121.496119,"lat":31.233448,"count":20},
{"lng":121.490648,"lat":31.22529,"count":20},
{"lng":121.496168,"lat":31.223186,"count":20},
{"lng":121.496168,"lat":31.223186,"count":20},
{"lng":121.49684,"lat":31.228047,"count":20},
{"lng":121.490597,"lat":31.225075,"count":20},
{"lng":121.496168,"lat":31.223186,"count":20},
{"lng":121.142312,"lat":31.17628,"count":20},
{"lng":121.491533,"lat":31.221836,"count":20},
{"lng":121.487578,"lat":31.231579,"count":20},
{"lng":121.491533,"lat":31.221836,"count":20},
{"lng":121.491279,"lat":31.22065,"count":20},
{"lng":121.491533,"lat":31.221836,"count":20},
{"lng":121.492244,"lat":31.224007,"count":20},
{"lng":121.49746,"lat":31.226131,"count":20},
{"lng":121.484929,"lat":31.234381,"count":20},
{"lng":121.498611,"lat":31.223671,"count":20},
{"lng":121.498611,"lat":31.223671,"count":20},
{"lng":121.469629,"lat":31.224462,"count":20},
{"lng":121.467707,"lat":31.223398,"count":20},
{"lng":121.476978,"lat":31.224815,"count":20},
{"lng":121.491169,"lat":31.220951,"count":20},
{"lng":121.469629,"lat":31.224462,"count":20},
{"lng":121.476978,"lat":31.224815,"count":20},
{"lng":121.476978,"lat":31.224815,"count":20},
{"lng":121.476978,"lat":31.224815,"count":20},
{"lng":121.492655,"lat":31.223292,"count":20},
{"lng":121.475265,"lat":31.225054,"count":20},
{"lng":121.473185,"lat":31.224247,"count":20},
{"lng":121.477777,"lat":31.216769,"count":20},
{"lng":121.473185,"lat":31.224247,"count":20},
{"lng":121.477777,"lat":31.216769,"count":20},
{"lng":121.498611,"lat":31.223671,"count":20},
{"lng":121.477777,"lat":31.216769,"count":20},
{"lng":121.469545,"lat":31.22927,"count":20},
{"lng":121.496072,"lat":31.227203,"count":20},
{"lng":121.469545,"lat":31.22927,"count":20},
{"lng":121.496072,"lat":31.227203,"count":20},
{"lng":121.475265,"lat":31.225054,"count":20},
{"lng":121.471681,"lat":31.219567,"count":20},
{"lng":121.491533,"lat":31.221836,"count":20},
{"lng":121.491533,"lat":31.221836,"count":20},
{"lng":121.466049,"lat":31.226963,"count":20},
{"lng":121.477777,"lat":31.216769,"count":20},
{"lng":121.491533,"lat":31.221836,"count":20},
{"lng":121.491533,"lat":31.221836,"count":20},
{"lng":121.470197,"lat":31.216944,"count":20},
{"lng":121.321374,"lat":31.489605,"count":20},
{"lng":121.491533,"lat":31.221836,"count":20},
{"lng":121.491533,"lat":31.221836,"count":20},
{"lng":121.491533,"lat":31.221836,"count":20},
{"lng":121.491533,"lat":31.221836,"count":20},
{"lng":121.466873,"lat":31.226166,"count":20},
{"lng":121.466049,"lat":31.226963,"count":20},
{"lng":121.47353,"lat":31.22296,"count":20},
{"lng":121.47353,"lat":31.22296,"count":20},
{"lng":121.471772,"lat":31.222923,"count":20},
{"lng":121.471772,"lat":31.222923,"count":20},
{"lng":121.483572,"lat":31.230854,"count":20},
{"lng":121.486232,"lat":31.224587,"count":20},
{"lng":121.479894,"lat":31.229038,"count":20},
{"lng":121.48926,"lat":31.224572,"count":20},
{"lng":121.470615,"lat":31.220534,"count":20},
{"lng":121.482627,"lat":31.22699,"count":20},
{"lng":121.483572,"lat":31.230854,"count":20},
{"lng":121.479213,"lat":31.227079,"count":20},
{"lng":121.484242,"lat":31.23063,"count":20},
{"lng":121.481763,"lat":31.228866,"count":20},
{"lng":121.483346,"lat":31.220786,"count":20},
{"lng":121.483572,"lat":31.230854,"count":20},
{"lng":121.473792,"lat":31.22344,"count":20},
{"lng":121.484242,"lat":31.23063,"count":20},
{"lng":121.473792,"lat":31.22344,"count":20},
{"lng":121.473792,"lat":31.22344,"count":20},
{"lng":121.473792,"lat":31.22344,"count":20},

 
  ];
   
    if(!isSupportCanvas()){
    	alert('热力图目前只支持有canvas支持的浏览器,您所使用的浏览器不能使用热力图功能~')
    }
	//详细的参数,可以查看heatmap.js的文档 https://github.com/pa7/heatmap.js/blob/master/README.md
	//参数说明如下:
	/* visible 热力图是否显示,默认为true
     * opacity 热力的透明度,1-100
     * radius 势力图的每个点的半径大小   
     * gradient  {JSON} 热力图的渐变区间 . gradient如下所示
     *	{
			.2:'rgb(0, 255, 255)',
			.5:'rgb(0, 110, 255)',
			.8:'rgb(100, 0, 255)'
		}
		其中 key 表示插值的位置, 0~1. 
		    value 为颜色值. 
     */
	heatmapOverlay = new BMapLib.HeatmapOverlay({"radius":60});
	map.addOverlay(heatmapOverlay);
	heatmapOverlay.setDataSet({data:points,max:200});
	//是否显示热力图
    function openHeatmap(){
        heatmapOverlay.show();
    }
	function closeHeatmap(){
        heatmapOverlay.hide();
    }
	closeHeatmap();
    function setGradient(){
     	/*格式如下所示:
		{
	  		0:'rgb(102, 255, 0)',
	 	 	.5:'rgb(255, 170, 0)',
		  	1:'rgb(255, 0, 0)'
		}*/
     	var gradient = {};
     	var colors = document.querySelectorAll("input[type='color']");
     	colors = [].slice.call(colors,0);
     	colors.forEach(function(ele){
			gradient[ele.getAttribute("data-key")] = ele.value; 
     	});
        heatmapOverlay.setOptions({"gradient":gradient});
    }
	//判断浏览区是否支持canvas
    function isSupportCanvas(){
        var elem = document.createElement('canvas');
        return !!(elem.getContext && elem.getContext('2d'));
    }
</script>